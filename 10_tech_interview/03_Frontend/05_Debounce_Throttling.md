# 05. Debounce, Throttling

<br>

## (1) Debounce

- **event를 그룹화해서 특정시간이 지난 후 1개의 event만 실행하는 것**
- **즉, 연이어 호출되는 함수 중 제일 마지막(또는 처음)에 있는 함수만 호출되도록 하는 것**
- 주로 비동기 처리로 검색할 때 사용된다.
  - `input` 창에 입력을 받고 해당 입력을 포함하고 있는 검색어들을 보여줄 때
- 디바운스를 구현하지 않는다면 유료 API를 사용할 때 키보드 입력이 한 번씩 들어올때마다 매번 쿼리를 날려야하기 때문에 어마어마한 손해가 될 수 있다.
  - 그래서 특정 단어를 다 입력한 후 ajax 요청을 보내고 싶을 때 디바운스를 사용한다.
- 구현 방법(예. 설정시간 500ms)
  - 타자를 입력(`input` 이벤트가 발생)할 때마다 타이머를 설정(`setTimeout`)한다.
  - 만약 500ms 동안 입력이 없으면 입력이 끝난 것으로 간주하고 ajax 요청을 보내는 로직을 수행
  - 만약 500ms 이전에 타자를 입력한다면 이전 타이머는 취소(`clearTimeout`)하고 새로운 타이머를 설정한다.

<br>

## (2) Throttling

- **이벤트를 일정 주기마다 발생하게 하는 것**
  - 예) 설정 시간을 1ms로 한다면 해당 이벤트는 1ms 동안 최대 1번만 실행되도록 한다.
- **즉, 마지막 함수가 호출된 후 일정 시간이 지나기 전에 다시 호출되지 않도록 하는 것**
- 주로 스크롤을 올리거나 내릴 때 Throttling 기법을 적용한다.
  - 스크롤을 올리거나 내릴 때 `scroll` 이벤트가 매우 많이 발생한다. 퍼포먼스 측면에서 다소 안 좋아 렉이 걸릴 위험이 있다.
  - 하지만 Throttling 기법을 구현하면 몇 초에 한 번 또는 몇 밀리 초에 한 번만 실행하도록 제한을 걸 수 있다.
  - 그래서 무한 스크롤을 구현할 때 매우 유용하다.
- 구현 방법(예. 설정시간 500ms)
  - 똑같이 500ms로 제한 시간을 걸어둘 때 타이머가 설정되어 있으면 아무 동작도 하지 않는다.
  - 타이머가 없다면 새로운 타이머를 설정한다.
  - 500ms가 지난 후 스스로 타이머를 해제하고 ajax 요청을 보낸다.

<br>

## :mag: Debounce, Throttling 비교 정리

- Throttling은 적어도 일정 시간마다 정기적으로 기능이 실행하는 것을 보장
- Debounce는 아무리 많은 event가 발생해도 모두 무시하고 특정 시간이에 어떤 event도 발생하지 않았을 때 마지막에 들어온 event만 발생하도록 한다.

<br>

---

:page_facing_up: <b>Reference</b>

- https://webclub.tistory.com/607
- https://www.zerocho.com/category/JavaScript/post/59a8e9cb15ac0000182794fa

---

